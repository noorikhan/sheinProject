var categories = [
  {
    category: "bedding",
    subcategory: "bedding",
    title: "Christmas print Pillowcase",
    price: "10",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    imgUrl: [
      "/beddingImages/img2.webp",
      "/beddingImages/img2.1.webp",
      "/beddingImages/img2.2.webp",
      "/beddingImages/img2.4.webp",
    ],
  },
  {
    category: "bedding",
    subcategory: "bedding",
    title: "plain Plush Blanket",
    price: "54",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "xl",
    imgUrl: ["/beddingImages/img1.webp"],
  },
  {
    category: "bedding",
    subcategory: "bedding",
    title: "Fleece Pillowcase Without Filler",
    price: "14",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "m",
    imgUrl: ["/beddingImages/img4.webp"],
  },
  {
    category: "bedding",
    subcategory: "bedding",
    title: "Butterfly Print Duvet Coever Set Without",
    price: "37",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "m",
    imgUrl: [
      "/beddingCategory/img5.webp",
      "/beddingImages/img5.1.webp",
      "/beddingImages/img5.2.webp",
    ],
  },
  {
    category: "bedding",
    subcategory: "bedding",
    title: "Fleece Pillowcase Without Filler",
    price: "15",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    imgUrl: ["/beddingImages/img3.webp", "/beddingImages/img3.1.webp"],
  },
  {
    category: "bedding",
    SubCategory: "bedSkirt",
    title: "Pom Pom Bed Skirt",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "xl",
    price: "19",
    imgUrl: ["/beddingCategory/img1.webp", "/beddingCategory/img1.1.webp"],
  },
  {
    category: "bedding",
    SubCategory: "bedSkirt",
    title: "Plain Ruffle Bed Skirt",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "l",
    price: "24",
    imgUrl: ["/beddingCategory/img2.webp"],
  },
  {
    category: "bedding",
    SubCategory: "bedSkirt",
    title: "Flower Print Bed Skirt",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    price: "19",
    imgUrl: ["/beddingCategory/img3.webp"],
  },
  {
    category: "bedding",
    SubCategory: "bedSkirt",
    title: "Houndstooth pattern Bed Skirt",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "xl",
    price: "35",
    imgUrl: ["/beddingCategory/img4.webp"],
  },
  {
    category: "bedding",
    SubCategory: "bedSkirt",
    title: "Plain Print Bed Skirt",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "l",
    price: "35",
    imgUrl: ["/beddingCategory/img5.webp"],
  },
  {
    category: "bedding",
    SubCategory: "bedSpread",
    title: "Gradient color Spreadsheet",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    price: "41",
    imgUrl: [
      "/beddingCategory/bedspreadandRunners/gradientColor.webp",
      "/beddingCategory/bedspreadandRunners/gradientColorSmall.webp",
    ],
  },
  {
    category: "bedding",
    SubCategory: "bedSpread",
    title: "Pizaa print spreadheet",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "m",
    price: "28",
    imgUrl: [
      "/beddingCategory/bedspreadandRunners/pizaaPrint.webp",
      "/beddingCategory/bedspreadandRunners/pizzaPrintSmall.webp",
    ],
  },
  {
    category: "bedding",
    SubCategory: "bedSpread",
    title: "Star Print spreadsheet",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "m",
    price: "33",
    imgUrl: [
      "/beddingCategory/bedspreadandRunners/starPrint.webp",
      "/beddingCategory/bedspreadandRunners/starPrintSmall.webp",
    ],
  },
  {
    category: "bedding",
    SubCategory: "bedSpread",
    title: "christmas pattern spreasheet",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    price: "40",
    imgUrl: [
      "/beddingCategory/bedspreadandRunners/christmasPattern.webp",
      "/beddingCategory/bedspreadandRunners/christmasPatternSmall.webp",
    ],
  },
  {
    category: "bedding",
    SubCategory: "blankets",
    title: "christmas print blanket",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "m",
    price: "28",
    imgUrl: [
      "/beddingCategory/blankets/christmasPrint.webp",
      "/beddingCategory/blankets/christmasPrintSmall.webp",
    ],
  },
  {
    category: "bedding",
    SubCategory: "blankets",
    title: "christmas Santa print blanket",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    price: "32.99",
    imgUrl: [
      "/beddingCategory/blankets/christmasSanta.webp",
      "/beddingCategory/blankets/christmasSantaSmall.webp",
    ],
  },
  {
    category: "bedding",
    SubCategory: "blankets",
    title: "halloween Spider print",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    price: "42.23",
    imgUrl: [
      "/beddingCategory/blankets/halloweenSpider.webp",
      "/beddingCategory/blankets/halloweenSpiderSmall.webp",
    ],
  },
  {
    category: "bedding",
    SubCategory: "blankets",
    title: "christmas deer print blanket",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "l",
    price: "72",
    imgUrl: [
      "/beddingCategory/blankets/christmas Deer blanket small.webp",
      "/beddingCategory/blankets/Christmas Deer blanket.webp",
    ],
  },
  {
    category: "bedding",
    subcategory: "sheetsAndPillow",
    title: "pillows Santa printed",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "xl",
    price: "19",
    imgUrl: [
      "/beddingCategory/sheetsAndPillowcase/pillowSanta.webp",
      "/beddingCategory/sheetsAndPillowcase/pillowSantaSmall.webp",
    ],
  },
  {
    category: "bedding",
    subcategory: "sheetsAndPillow",
    title: "Christmasn print sheet",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    size: "s",
    price: "27",
    imgUrl: [
      "/beddingCategory/sheetsAndPillowcase/chistmasPrintedSheet.webp",
      "/beddingCategory/blankets/christmasPrintedSmall.webp",
    ],
  },
  {
    category: "bedding",
    subcategory: "sheetsAndPillow",
    title: "Christmas print Deer",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    price: "21",
    size: "m",
    imgUrl: [
      "/beddingCategory/sheetsAndPillowcase/christmasPrintDeer.webp",
      "/beddingCategory/sheetsAndPillowcase/christmasPrintDeerSmall.webp",
    ],
  },
  {
    category: "bedding",
    subcategory: "sheetsAndPillow",
    title: "Tree print sheet",
    color: ["red", "green", "blue", "yellow", "black", "grey"],
    price: "38",
    size: "s",
    imgUrl: [
      "/beddingCategory/sheetsAndPillowcase/TreePrintSheet.webp",
      "/beddingCategory/sheetsAndPillowcase/TreePrintSheetSmall.webp",
    ],
  },
  //this is dining and dinner category//
  {
    category: "kitchen",
    subcategory: "Kichen",
    title: "Elk spoon chirstmas",
    color: "gold",
    size: "one-size",
    price: "4",
    imgUrl: [
      "/diningkitchen/kitchen/ChristmasElkSpoon.webp",
      "/diningkitchen/kitchen/ChristmasElkSpoonSmall.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kichen",
    title: "christmas pattern placemat",
    color: "gold",
    size: "one-size",
    price: "5",
    imgUrl: [
      "/diningkitchen/kitchen/christamasPlacematPattern.webp",
      "/diningkitchen/kitchen/christmasPatternPlacematSmall.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kichen",
    title: "christmas slogan dinner",
    color: "red",
    size: "one-size",
    price: "3",
    imgUrl: [
      "/diningkitchen/kitchen/christmasSlogan.webp",
      "/diningkitchen/kitchen/christmasSloganSmall.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kichen",
    title: "christmas wine Glass set",
    color: "white",
    size: "one-size",
    price: "8",
    imgUrl: [
      "/diningkitchen/kitchen/christmasWineGlass.webp",
      "/diningkitchen/kitchen/christmasWineGlassSmalll.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kichen",
    title: "christmas elk print ",
    color: "black",
    size: "one-size",
    price: "12",
    imgUrl: [
      "/diningkitchen/kitchen/christmasElkPrint.webp",
      "/diningkitchen/kitchen/christmasElkPrintSmall.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kitchen",
    title: "random floral apron",
    color: "random",
    size: "one-size",
    price: "8",
    imgUrl: [
      "/diningkitchen/kitchen/radnom floral apron.webp",
      "/diningkitchen/kitchen/random floral apron small.webp",
    ],
  },

  {
    category: "kitchen",
    subcategory: "Kitchen",
    title: "random color lunchbox",
    color: "random",
    size: "one-size",
    price: "12",
    imgUrl: [
      "/diningkitchen/kitchen/random color lunchbox .webp",
      "/diningkitchen/kitchen/random color lunchbox small.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kitchen",
    title: "stainless steel garlic press",
    color: "silver",
    size: "one-size",
    price: "4",
    imgUrl: [
      "/diningkitchen/kitchen/stainless steel garlic press small.webp",
      "/diningkitchen/kitchen/stainless steel garlic press.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kitchen",
    title: "stainless steel spoon",
    color: "silver",
    size: "one-size",
    price: "3",
    imgUrl: [
      "/diningkitchen/kitchen/stainless steel spoon.webp",
      "/diningkitchen/kitchen/stainless steel spoon small.webp",
    ],
  },
  {
    category: "kitchen",
    subcategory: "Kitchen",
    title: "gradient water bottle ",
    color: "gradient",
    size: ["1000ml"],
    price: "21",
    imgUrl: [
      "/diningkitchen/kitchen/gradient water bottle.webp",
      "/diningkitchen/kitchen/gradient water  bottle small.webp",
    ],
  },
];

localStorage.setItem("categoryProducts", JSON.stringify(categories));

var catObj = JSON.parse(localStorage.getItem("categoryProducts")) || [];
var cartData = JSON.parse(localStorage.getItem("cartData")) || [];
var favProductsData = JSON.parse(localStorage.getItem("favProductsData")) || [];

var body = document.getElementById("container");

var mainDiv = document.createElement("div");
mainDiv.setAttribute("id", "boxs");
body.append(mainDiv);
showProducts(catObj);

function showProducts(catObj) {
  document.getElementById("boxs").textContent = "";
  catObj.map(function (item) {
    var box = document.createElement("div");
    box.setAttribute("id", "box");

    var imgDiv = document.createElement("div");
    imgDiv.setAttribute("class", "imageDive");

    var image = document.createElement("img");
    image.setAttribute("src", item.imgUrl[0]);
    image.addEventListener("click", function () {
      productDetails(item);
    });

    var btnDiv = document.createElement("div");
    btnDiv.setAttribute("class", "middle");

    var b = document.createElement("button");
    b.setAttribute("class", "btn");
    b.textContent = "ADD TO BAG";

    b.addEventListener("click", function () {
      var exist = false;
      for (var j = 0; j < cartData.length; j++) {
        if (item.title == cartData[j].title) {
          exist = true;
          break;
        }
      }
      if (exist) {
        alert("product is already added to cart");
      } else {
        cartData.push(item);

        localStorage.setItem("cartData", JSON.stringify(cartData));
      }
    });

    btnDiv.append(b);

    imgDiv.append(image, btnDiv);

    var h = document.createElement("div");
    h.textContent = item.title;

    var div = document.createElement("div");
    div.setAttribute("id", "heartIcon");

    var p = document.createElement("h4");
    p.textContent = `US$${item.price}`;

    var icon = document.createElement("p");
    icon.setAttribute("id", "fav");
    icon.innerHTML = `<i class="far fa-heart"></i>`;

    icon.addEventListener("click", function () {
      var exist = false;
      for (var j = 0; j < favProductsData.length; j++) {
        if (item.title == favProductsData[j].title) {
          exist = true;
          break;
        }
      }
      if (exist) {
        alert("product is already added to favs");
      } else {
        favProductsData.push(item);
        localStorage.setItem(
          "favProductsData",
          JSON.stringify(favProductsData)
        );
      }
    });

    div.append(p, icon);
    box.append(imgDiv, h, div);
    mainDiv.append(box);
  });
}

function productDetails(item) {
  console.log(item);
  localStorage.setItem("seleProd", JSON.stringify(item));
  window.location.href = "productDetails.html";
}

// document.querySelector("h3").addEventListener("click", function () {
//   document.querySelector("h3").textContent = "Category   -";
//   var cat = document.getElementById("cat");
//   cat.style.display = "inline";
// });

catDisplay("bedcat", "bedsDiv");
catDisplay("kitchencat", "kitchenDiv");
catDisplay("decorecat", "decoreDiv");

var slider = document.getElementById("myRange");
var p = document.querySelector("p");
p.innerHTML = `US${slider.value}`;

slider.oninput = function () {
  svalue = `US$${this.value}`;
  p.innerHTML = svalue;
};

function catDisplay(id1, id2) {
  document.getElementById(id1).addEventListener("click", function () {
    document.getElementById(id2).style.display = "inline";
  });
}

document.getElementById("checkBox").addEventListener("click", checkBoxFun);

function checkBoxFun(e) {
  var res = catObj.filter(function (item) {
    return e.target.value == item.size;
  });
  showProducts(res);
}

document.getElementById("cat").addEventListener("click", catFun);

function catFun(e) {
  var res = catObj.filter(function (item) {
    return e.target.value == item.category;
  });
  showProducts(res);
}
